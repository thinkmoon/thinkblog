---
title: 武林秘籍
date: ''
modified: ''
category: 学习笔记
tags:
- linux
desc: ''
thumb: ''
---

## Docker

1. 列出所有的容器

`docker ps -a`

2. 容器打包成镜像

`docker commit [容器名] [镜像名]:[标签]`

3. 镜像保存为文件

`docker save -o <tar文件名>.tar <镜像名称>:<标签>`

4. 从文件中加载镜像

`docker load -i <tar文件名>.tar`

5. 从镜像中按自定义命令启动容器

`docker run -idt --cpus="1" -m 1024m -p 7003:7002 --name zhuan_instance zhuan_node  /bin/sh -c "cd /var/www && pm2 start ecosystem.config.js && /bin/sh"`

6. 修改容器可用内存

`docker update --memory 2048m --memory-swap -1 gitlab`