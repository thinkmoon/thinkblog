<!DOCTYPE html>
<html lang="zh-cn">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>微信小程序页面改写组件教程 | 指尖魔法屋</title>

    
    <meta name="description" content="">
    <meta name="keywords" content="uni-app, 微信小程序">

    
    <meta property="og:title" content="微信小程序页面改写组件教程">
    <meta property="og:description" content="">
    <meta property="og:type" content="article">
    <meta property="og:url" content="http://localhost:1313/847_%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%A1%B5%E9%9D%A2%E6%94%B9%E5%86%99%E7%BB%84%E4%BB%B6%E6%95%99%E7%A8%8B/">
    

    
    <link rel="icon" href="http://localhost:1313/favicon.ico">

    
    <link rel="stylesheet" href="http://localhost:1313/css/reset.css">
    <link rel="stylesheet" href="http://localhost:1313/css/github-markdown.css">
    <link rel="stylesheet" href="http://localhost:1313/css/custom.css">
</head>
<body>
    
    
    <nav class="top-menu">
        <div class="container">
            <div class="left">
                <a href="http://localhost:1313/">指尖魔法屋</a>
            </div>
            <ul class="menu">
                <li class="">
                    <a href="http://localhost:1313/">首页</a>
                </li>
                <li class="">
                    <a href="http://localhost:1313/categories/">分类</a>
                </li>
                <li class="">
                    <a href="http://localhost:1313/tags/">标签</a>
                </li>
            </ul>
            <div class="right">
                <a href="/admin" class="admin-link">
                    <span>登录</span>
                </a>
            </div>
        </div>
    </nav>
    

    
    <main>
        
<div class="page-container">
    <div class="container">
        <article class="post">
            <header class="post-header">
                <h1>微信小程序页面改写组件教程</h1>

                <div class="post-meta">
                    <time datetime="2020-05-01">2020-05-01</time>
                    

                    
                    <span class="category">
                        <a href="http://localhost:1313/categories/%E6%95%99%E7%A8%8B%E5%88%86%E4%BA%AB">
                            教程分享
                        </a>
                    </span>
                    
                </div>

                
                <div class="post-tags">
                    标签:
                    
                    <a href="http://localhost:1313/tags/uni-app" class="tag">uni-app</a>
                    
                    <a href="http://localhost:1313/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F" class="tag">微信小程序</a>
                    
                </div>
                
            </header>

            <div class="post-content markdown-body">
                <h2 id="为什么需要">为什么需要？</h2>
<p>微信小程序里面页面与自定义组件的区别较大，而页面的可复用程度太低了。要么就是跳转页面，要么就是copy代码。如果我们要增加代码的可复用性，就可以借用Vue组件的思想，将页面改写为自定义组件。</p>
<h2 id="结构对比">结构对比</h2>
<p>两者的视图文件，样式文件没有什么区别。主要区别最大的就是js文件，我们首先来看一下两者的结构。</p>
<h3 id="pagejs">page.js</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">page</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// 数据内容
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="nx">data</span><span class="o">:</span><span class="p">{},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// 生命周期函数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="nx">onLoad</span><span class="p">(){},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// 一些自定义函数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="nx">someMethods</span><span class="p">(){}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></div><h3 id="componetjs">componet.js</h3>
<pre tabindex="0"><code class="language-javascrpt" data-lang="javascrpt">
componet({

  // 预设属性

  properties: {},

  // 数据内容

  data: {},

  //组件所在页面生命周期

  pageLifetimes: {},

  // 生命周期函数-挂载

  attached: function() {

    // 在组件实例进入页面节点树时执行

  },

  // 生命周期函数-卸载

  detached: function() {

    // 在组件实例被从页面节点树移除时执行

  },

  // 自定义函数写结构里面

  methods:{

    someMethods(){}

  }

})
</code></pre><p>我们可以看到，两者的基本相似，大同小异。所以改写起来就特别方便啦~</p>
<ol>
<li>
<p>将page改为componet</p>
</li>
<li>
<p>适配生命周期函数，例如将页面onLoad()函数改写为组件的attached()函数</p>
</li>
<li>
<p>将自定义函数someMethods()写到Componet的methods里面</p>
</li>
</ol>

            </div>

            
            <ins class="adsbygoogle"
                 style="display:block; text-align:center;width: 100%"
                 data-ad-client="ca-pub-3208634444966567"
                 data-ad-format="fluid"
                 data-ad-layout="in-article"
                 data-ad-slot="2621880404">
            </ins>

            
            <div class="copyright-notice">
                <blockquote>
                    <p>版权声明: （http://localhost:1313/847_%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%A1%B5%E9%9D%A2%E6%94%B9%E5%86%99%E7%BB%84%E4%BB%B6%E6%95%99%E7%A8%8B/）本文首发于
                        <a href="http://localhost:1313/847_%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%A1%B5%E9%9D%A2%E6%94%B9%E5%86%99%E7%BB%84%E4%BB%B6%E6%95%99%E7%A8%8B/">指尖魔法屋-微信小程序页面改写组件教程</a>
                        转载或引用必须申明原指尖魔法屋来源及源地址！
                    </p>
                </blockquote>
            </div>
        </article>
    </div>
</div>

    </main>

    
    <footer class="footer">
        <div class="container">
            <span>Copyright © 2017-2025 指尖魔法屋. All rights reserved</span>
            <span>POWERED BY thinkBlog · v1.0.0</span>
            <span>网站持续搭建中，感谢关注</span>
            <div class="beian">
                <a href="http://beian.miit.gov.cn/" target="_blank">粤ICP备17055617号</a>
            </div>
        </div>
    </footer>

    
    <script src="http://localhost:1313/js/thinkblog.js"></script>
</body>
</html>
