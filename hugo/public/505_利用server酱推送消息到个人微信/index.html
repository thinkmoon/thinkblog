<!DOCTYPE html>
<html lang="zh-cn">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>利用Server酱推送消息到个人微信 | 指尖魔法屋</title>

    
    <meta name="description" content="">
    <meta name="keywords" content="">

    
    <meta property="og:title" content="利用Server酱推送消息到个人微信">
    <meta property="og:description" content="">
    <meta property="og:type" content="article">
    <meta property="og:url" content="http://localhost:1313/505_%E5%88%A9%E7%94%A8server%E9%85%B1%E6%8E%A8%E9%80%81%E6%B6%88%E6%81%AF%E5%88%B0%E4%B8%AA%E4%BA%BA%E5%BE%AE%E4%BF%A1/">
    

    
    <link rel="icon" href="http://localhost:1313/favicon.ico">

    
    <link rel="stylesheet" href="http://localhost:1313/css/reset.css">
    <link rel="stylesheet" href="http://localhost:1313/css/github-markdown.css">
    <link rel="stylesheet" href="http://localhost:1313/css/custom.css">
</head>
<body>
    
    
    <nav class="top-menu">
        <div class="container">
            <div class="left">
                <a href="http://localhost:1313/">指尖魔法屋</a>
            </div>
            <ul class="menu">
                <li class="">
                    <a href="http://localhost:1313/">首页</a>
                </li>
                <li class="">
                    <a href="http://localhost:1313/categories/">分类</a>
                </li>
                <li class="">
                    <a href="http://localhost:1313/tags/">标签</a>
                </li>
            </ul>
            <div class="right">
                <a href="/admin" class="admin-link">
                    <span>登录</span>
                </a>
            </div>
        </div>
    </nav>
    

    
    <main>
        
<div class="page-container">
    <div class="container">
        <article class="post">
            <header class="post-header">
                <h1>利用Server酱推送消息到个人微信</h1>

                <div class="post-meta">
                    <time datetime="2019-10-28">2019-10-28</time>
                    

                    
                    <span class="category">
                        <a href="http://localhost:1313/categories/%E6%95%99%E7%A8%8B%E5%88%86%E4%BA%AB">
                            教程分享
                        </a>
                    </span>
                    
                </div>

                
            </header>

            <div class="post-content markdown-body">
                <p>如果你需要及时收到服务器的运行报告，如果你嫌装客户端端软件太麻烦。那么你可以试试这个，调用WEB API推送消息到你的微信；我想这可能会是一个不错的装逼姿势。</p>
<!-- more -->
<p><img src="https://blog.cdn.thinkmoon.cn/%E5%B0%8F%E4%B9%A6%E5%8C%A0/1509075155084.jpg" alt="Server酱"></p>
<blockquote>
<p>「Server酱」，英文名「ServerChan」，是一款「程序员」和「服务器」之间的通信软件。说人话？就是从服务器推报警和日志到手机的工具。</p>
</blockquote>
<h3 id="server酱工作原理图">Server酱工作原理图</h3>
<p><img src="https://blog.cdn.thinkmoon.cn/%E5%B0%8F%E4%B9%A6%E5%8C%A0/55ec21e37e46b.gif" alt="工作原理图" title="工作原理图"></p>
<p>大致解释一下步骤：</p>
<ol>
<li>
<p>登录Server酱官网，使用==github #800000==账号登录</p>
</li>
<li>
<p>绑定一个微信（你的或者你想通知的人的）</p>
</li>
<li>
<p>获取到SendKey（它根据这个==Sendkey #800500==区分目标）</p>
</li>
<li>
<p>在你发起消息的服务器或者软件调用API发送GET请求</p>
</li>
<li>
<p>手机微信上收到消息</p>
</li>
</ol>
<h3 id="技术要求">技术要求</h3>
<ol>
<li>
<p>需要有一个GitHub账号，没有可以注册一个。</p>
</li>
<li>
<p>需要有一个微信账号，没有可以注册一个。</p>
</li>
<li>
<p>需要关注一个公众号，没有可以关注一下。</p>
</li>
<li>
<p>需要会使用Get请求,任何语言。</p>
</li>
</ol>
<h3 id="操作流程">操作流程</h3>
<p>1.进入官网，使用GitHub账号登录。开始绑定微信。就是使用微信扫描之后（会叫你关注一个公众号），然后在这个界面点击&lt;检查结果并确认绑定&gt;</p>
<p><img src="https://blog.cdn.thinkmoon.cn/%E5%B0%8F%E4%B9%A6%E5%8C%A0/1509091155306.jpg" alt="微信绑定"></p>
<blockquote>
<p>绑定成功之后是这样子的</p>
</blockquote>
<p><img src="https://blog.cdn.thinkmoon.cn/%E5%B0%8F%E4%B9%A6%E5%8C%A0/1509091329022.jpg" alt="绑定成功"></p>
<p>2.获取SendKey（在发送消息页面）。</p>
<p><img src="https://blog.cdn.thinkmoon.cn/%E5%B0%8F%E4%B9%A6%E5%8C%A0/1509091540971.jpg" alt="SCKEY"></p>
<p>3.首先我们来测试一下能否发送成功</p>
<blockquote>
<p>在这个在线发送工具下输入你想发送的数据。</p>
</blockquote>
<p><img src="https://blog.cdn.thinkmoon.cn/%E5%B0%8F%E4%B9%A6%E5%8C%A0/1509091667950.jpg" alt="在线发送工具"></p>
<p>4.打开微信看看效果</p>
<p><img src="https://blog.cdn.thinkmoon.cn/%E5%B0%8F%E4%B9%A6%E5%8C%A0/1509091830688.jpg" alt="消息预览"></p>
<p><img src="https://blog.cdn.thinkmoon.cn/%E5%B0%8F%E4%B9%A6%E5%8C%A0/1509091860414.jpg" alt="消息展示"></p>
<blockquote>
<p>注意这个界面不要随便分享，因为这个链接里面就有你的SCKEY，如果你不想突然收到别人莫名其妙的消息，那还是自己看就好了。</p>
</blockquote>
<p>5.php调用WEB API发送消息（一定得是PHP？不，你用表单都可以，It‘s up to you.)</p>
<blockquote>
<p>对了，其实这个消息内容是支持markdown的哦（很好的一个设计），如果不知道什么是markdown的话。。。去百度？</p>
</blockquote>
<p>写成一个函数</p>
<pre><code>function weixin_notify($SCKEY,$header,$content){

	file_get_contents('https://sc.ftqq.com/'.$SCKEY.'.send?text='.urlencode($header).'&amp;desp='.urlencode($content));

}
</code></pre>
<blockquote>
<p>然后你再需要发送服务器警告的地方调用函数即可</p>
</blockquote>
<h3 id="serverchan-工作原理分析">ServerChan 工作原理分析</h3>
<blockquote>
<p>如果你打算做一个类似的平台的话。你首先有两个东西是必不可缺的。1,一个服务器后端。2，一个通过微信认证了的服务号</p>
</blockquote>
<ol>
<li>
<p>首先你得关注公众号</p>
</li>
<li>
<p>你扫描之后绑定微信，其实是一个区分用户的过程，来记录你的userID。比如：百词斩官方公众号通过你发特定的字符串来区别。</p>
</li>
<li>
<p>它的服务端通过SCKEY与userID做一个映射，然后根据你的SCKEY来发给不同的人。</p>
</li>
<li>
<p>服务端开放一个接口，接收你的SCKEY、title、content。然后再调用微信官方接口发送客户消息。</p>
</li>
<li>
<p>用户收到消息</p>
</li>
</ol>
<h3 id="局限与完善">局限与完善</h3>
<ul>
<li>
<p>==首先这里的SCKEY与userID只是简单的一对一的关系，但其实如果做成一对多更好。因为这样便可以群发通知 #801400==</p>
</li>
<li>
<p>==她这儿的的分享链接里面包含了很多个人敏感的信息，而其实这在微信的标准里面是不安全的。 #801900==</p>
</li>
</ul>

            </div>

            
            <ins class="adsbygoogle"
                 style="display:block; text-align:center;width: 100%"
                 data-ad-client="ca-pub-3208634444966567"
                 data-ad-format="fluid"
                 data-ad-layout="in-article"
                 data-ad-slot="2621880404">
            </ins>

            
            <div class="copyright-notice">
                <blockquote>
                    <p>版权声明: （http://localhost:1313/505_%E5%88%A9%E7%94%A8server%E9%85%B1%E6%8E%A8%E9%80%81%E6%B6%88%E6%81%AF%E5%88%B0%E4%B8%AA%E4%BA%BA%E5%BE%AE%E4%BF%A1/）本文首发于
                        <a href="http://localhost:1313/505_%E5%88%A9%E7%94%A8server%E9%85%B1%E6%8E%A8%E9%80%81%E6%B6%88%E6%81%AF%E5%88%B0%E4%B8%AA%E4%BA%BA%E5%BE%AE%E4%BF%A1/">指尖魔法屋-利用Server酱推送消息到个人微信</a>
                        转载或引用必须申明原指尖魔法屋来源及源地址！
                    </p>
                </blockquote>
            </div>
        </article>
    </div>
</div>

    </main>

    
    <footer class="footer">
        <div class="container">
            <span>Copyright © 2017-2025 指尖魔法屋. All rights reserved</span>
            <span>POWERED BY thinkBlog · v1.0.0</span>
            <span>网站持续搭建中，感谢关注</span>
            <div class="beian">
                <a href="http://beian.miit.gov.cn/" target="_blank">粤ICP备17055617号</a>
            </div>
        </div>
    </footer>

    
    <script src="http://localhost:1313/js/thinkblog.js"></script>
</body>
</html>
