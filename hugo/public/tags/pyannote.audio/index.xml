<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Pyannote.audio on 指尖魔法屋</title>
    <link>http://localhost:1313/tags/pyannote.audio/</link>
    <description>Recent content in Pyannote.audio on 指尖魔法屋</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <copyright>© 2025 ThinkBlog. All rights reserved.</copyright>
    <lastBuildDate>Tue, 16 Dec 2025 19:40:00 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/pyannote.audio/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>从零开始实现长语音转文本：从理论到实践</title>
      <link>http://localhost:1313/post/990-%E4%BD%BF%E7%94%A8%E6%99%BA%E8%B0%B1api%E5%B0%86%E9%95%BF%E8%AF%AD%E9%9F%B3%E8%BD%AC%E6%96%87%E6%9C%AC/</link>
      <pubDate>Tue, 16 Dec 2025 19:40:00 +0000</pubDate>
      <guid>http://localhost:1313/post/990-%E4%BD%BF%E7%94%A8%E6%99%BA%E8%B0%B1api%E5%B0%86%E9%95%BF%E8%AF%AD%E9%9F%B3%E8%BD%AC%E6%96%87%E6%9C%AC/</guid>
      <description>智谱AI语音识别API在准确性和响应速度方面表现出色，但受限于单次请求最大30秒的音频长度限制。本文基于pyannote.audio的语音活动检测(VAD)技术，实现了智能音频分块策略：在语音段落间隙处精确切割，避免截断语义单元；通过批量异步调用API接口，实现对长音频文件的完整转写；最终拼接处理结果输出。从Conda环境配置到生产代码实现，提供完整的可复现解决方案。&#xA;一、长语音转文本的核心挑战 主要的挑战是目前的条件没有合适的API。正好智谱API有token和API，先拿来用了。但是智谱API只能支持25M以下以及30s以内的语音。所以我们需要语音文件先断句，再分块，接着调用智谱API，最后拼接成最终结果。&#xA;三、关键技术：实现智能音频分块 这是自建系统的核心技术，也是本实践的重点。目标是在静音处切分音频，避免截断单词。&#xA;3.1 核心思想 加载音频：读取长音频文件。 检测静音：遍历音频，识别出静音段（声音能量低于阈值）。 标记边界：以静音为边界，切分语音。 生成音频块：保存为独立的短音频文件。 添加保护垫：在切分点两边保留一小段音频作为缓冲，防止截断。 3.2 三种实现方案 方案 优点 缺点 推荐场景 pydub 极其简单，代码少 精度一般，噪音敏感 快速原型验证、干净录音 webrtcvad 精度高，轻量快速 API底层，代码复杂 对准确率有要求、生产环境 pyannote.audio 效果最好，功能强大（含说话人分离） 依赖重，资源消耗大 需要说话人分离、追求最佳效果 3.3 使用 pyannote.audio 进行分块（本实践选择） pyannote.audio 是一个基于 PyTorch 的开源神经语音工具包，效果最好，且能同时完成说话人分离。选型原则：条件允许范围内，选最好！&#xA;但是本实践没有进行说话人分离&#xA;四、完整实践：使用pyannote.audio切割并调用API转写 实现一个完整的流程：使用 pyannote.audio 切割音频，然后调用智谱AI的API进行转写。&#xA;4.1 环境准备 首先，为了避免系统环境冲突，强烈建议创建一个虚拟环境。&#xA;安装依赖 依赖文件&#xA;name: audio_env channels: - conda-forge - defaults - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/ - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/ - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/ dependencies: - _libgcc_mutex=0.1 - _openmp_mutex=5.1 - aom=3.9.1 - bzip2=1.</description>
    </item>
  </channel>
</rss>
